<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Pokéclickr</title>
    <link href="https://fonts.cdnfonts.com/css/pokemon-hollow" rel="stylesheet"/>
    <link rel="icon" type="image/png" href="assets/images/icon.png">
    <link rel="stylesheet" href="styles/general.css"/>
    <link rel="stylesheet" href="styles/nav.css"/>
    <link rel="stylesheet" href="styles/footer.css"/>
    <link rel="stylesheet" href="styles/upgrade_table.css"/>
    <link rel="stylesheet" href="styles/friends.css"/>
    <link rel="stylesheet" href="styles/leaderboard.css"/>
    <link rel="stylesheet" href="styles/stickerwall.css"/>
    <link rel="stylesheet" href="styles/gambling.css"/>
    <link rel="stylesheet" href="styles/prestige.css"/>

</head>
<body>

    <video class="bg-video" autoplay muted loop playsinline>
        <source src="assets/videos/kanto.mp4" type="video/mp4"/>
    </video>
    <div class="bg-overlay"></div>

    <header>
        <div class="navbar">
                <div class="nav-left" id="nav-left-id">
                    <a href="#" class="logo">PokéClickr</a>
                </div>
                <div class="nav-right">
                    <ul id="nav-right-id"></ul>
                </div>
        </div>
    </header>

    <div class="main">
        <div class="left-main">
            <div class="left-main-top">
                <div id="leaderboard-container" class="leaderboard" style="margin-top:1rem; display:none;">
                    <h3>Friends Leaderboard</h3>
                    <ul id="leaderboard-list"></ul>
                </div>
            </div>
            <div class="left-main-bot">
                <button class="gambling">let's go gambling!</button>
                <button id="prestige-button">
                    <div id="prestige-button-progress"></div>
                    <span id="prestige-button-text">Prestige</span>
                </button>
            </div>
        </div>

        <div class="mid-main">
            <div class="Region">
                <p>Region: <span id="region-name">Kanto</span></p>
                <p>Prestige Level: <span id="prestige-level">0</span>/5</p>
            </div>
            <div class="pokeball">
                <img class="pokeball-img" src="assets/images/pokeball-img.png" alt="pokeball :3" draggable="false" onclick="incrementP(event)"/>
            </div>
            <div class="stats-container">
                <div class="stats">
                    <div class="stats-element">
                        <img class="p-total-img" src="assets/images/pokedollar-aseprite.png" alt="P" draggable="false"/>
                        <p>PC: <span class="ppc-text">1</span></p>
                    </div>
                    <div class="stats-element">
                        <img class="p-total-img" src="assets/images/pokedollar-aseprite.png" alt="P" draggable="false"/>
                        <p>PS: <span class="pps-text">0</span></p>
                    </div>
                </div>
            </div>
        </div>

        <div class="right-main">
            <button id="return-region-btn" class="btn-custom" style="display:none;" data-tooltip="Return to Region">
                ⮌
            </button>
            <div class="total-container">
                <img class="p-total-img" src="assets/images/pokedollar-aseprite.png" alt="P" draggable="false"/>
                <span class="p-total">0</span>
            </div>

            <div class="upgrade-tabs">
                <button class="tab-button active" data-tab="pokemon">Pokémon</button>
                <button class="tab-button" data-tab="berries">Berries</button>
            </div>
            
            <div class="upgrades-container" id="pokemon-container">
                
            </div>

            <div class="upgrades-container" id="berries-container" style="display: none;">
                
            </div>
        </div>
    </div>
    <footer>
    <div class="footer">
        <button id="stickerwall-toggle" class="btn-custom">Sticker Wall</button>
        <button id="friends-toggle" class="btn-custom">Friends</button>
    </div>
    </footer>
    <!-- Friends Modal -->
    <div id="friends-modal" class="modal-overlay" style="display: none;">
        <div class="friends-modal-content modal-content">
                <span id="close-friends-modal" class="close-modal">&times;</span>
                <h3>Friends List <span id="open-add-friend-modal" style="cursor:pointer; font-size: 20px;">➕</span></h3>
                <div id="friends-list" class="friends-list"></div>
                <h3 class="incoming-friend-h3" style="display: block;">Incoming Friend Requests</h3>
                <div id="incoming-requests" class="friends-list"></div>   
        </div>
    </div>
    
    <!-- Add Friend Modal (layered on top) -->
    <div id="add-friend-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
        <span id="close-add-modal" class="close-modal">&times;</span>
        <h3>Search Friends</h3>
        <input type="text" id="search-username" placeholder="Type a username..."/>
        <div id="search-results" class="friends-list"></div>
        </div>
    </div>
  
    <!-- Gambling Modal -->
    <div id="gambling-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content gambling-modal-content">
            <span id="close-gambling-modal" class="close-modal">&times;</span>
  
            <!-- Top Section -->
            <div class="gambling-modal-top">
                <h1>Legendaries</h1>
            </div>
  
            <!-- Middle Section -->
            <div class="gambling-modal-middle">
                <img src="assets/images/masterball.png" alt="Master Ball" class="masterball-img" />
                <button class="buy-button">
                <img src="assets/images/pokedollar-aseprite.png" class="p-icon" alt="P" style="filter: invert(0)"/>
                5
                </button>
            </div>
  
            <!-- Bottom Section -->
            <div class="gambling-modal-bottom">
                <div class="question-grid">
                <!-- 15 slots -->
                    <div class="legendary-slot question-slot" data-index="0">?</div>
                    <div class="legendary-slot question-slot" data-index="1">?</div>
                    <div class="legendary-slot question-slot" data-index="2">?</div>
                    <div class="legendary-slot question-slot" data-index="3">?</div>
                    <div class="legendary-slot question-slot" data-index="4">?</div>
                    <div class="legendary-slot question-slot" data-index="5">?</div>
                    <div class="legendary-slot question-slot" data-index="6">?</div>
                    <div class="legendary-slot question-slot" data-index="7">?</div>
                    <div class="legendary-slot question-slot" data-index="8">?</div>
                    <div class="legendary-slot question-slot" data-index="9">?</div>
                    <div class="legendary-slot question-slot" data-index="10">?</div>
                    <div class="legendary-slot question-slot" data-index="11">?</div>
                    <div class="legendary-slot question-slot" data-index="12">?</div>
                    <div class="legendary-slot question-slot" data-index="13">?</div>
                    <div class="legendary-slot question-slot" data-index="14">?</div>
                </div>
            </div>
        </div>
  </div>

  <!-- Prestige Modal -->
    <div id="prestige-modal" class="prestige-modal-overlay modal-overlay" style="display: none;">
        <div class="prestige-modal-content modal-content">
            <span id="close-prestige-modal" class="close-modal">&times;</span>
            <h2 class="prestige-modal-title">Prestige to Next Region</h2>
            
            <div class="prestige-info-container">
                <div class="prestige-info-item">
                    <h3>Current Region</h3>
                    <p id="prestige-current-region">Kanto</p>
                </div>
                
                <div class="prestige-info-item">
                    <h3>Next Region</h3>
                    <p id="prestige-next-region">Johto</p>
                </div>
                
                <div class="prestige-info-item">
                    <h3>Current Multiplier</h3>
                    <p><span id="prestige-current-multiplier">1.2</span>×</p>
                </div>
                
                <div class="prestige-info-item">
                    <h3>Next Multiplier</h3>
                    <p><span id="prestige-next-multiplier">2.4</span>×</p>
                </div>
            </div>
            
            <div class="prestige-requirements">
                <h3>Requirements</h3>
                <div class="prestige-currency">
                    <img class="p-total-img" src="assets/images/pokedollar-aseprite.png" alt="P" draggable="false"/>
                    <span id="prestige-current">100</span> / <span id="prestige-required">0</span>
                </div>
                <div class="prestige-progress-bar-container">
                    <div id="prestige-progress-bar" class="prestige-progress-bar"></div>
                </div>
            </div>
            
            <div class="prestige-warning">
                <p>⚠️ Warning: Prestiging will reset all your upgrades and currency, but you'll earn rewards faster!</p>
            </div>
            
            <div class="prestige-buttons">
                <button id="cancel-prestige" class="prestige-button cancel-button">Cancel</button>
                <button id="confirm-prestige" class="prestige-button confirm-button" disabled>Confirm Prestige</button>
            </div>
        </div>
    </div>

    <!-- Sticker Wall Modal -->
    <div id="stickerwall-modal" class="stickerwall-modal-overlay" style="display: none;">
        <div class="stickerwall-modal-content">
        <span id="close-stickerwall-modal">&times;</span>
        <h3>Sticker Wall</h3>
        <form id="sticker-form">
            <label>
            Pick a sticker:
            <select id="sticker-select"></select>
            </label>
            <label>
            Note:
            <input type="text" id="sticker-text" placeholder="140 characters max" maxlength="140"/>
            </label>
            <button type="submit" class="btn-custom">Post</button>
        </form>
        <ul id="sticker-feed"></ul>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-firestore-compat.js"></script>
    <script src="scripts/firebaseConfig.js"></script>
    <script src="scripts/index.js"></script>
    <script src="scripts/script.js"></script>
    <script src="scripts/friends.js"></script>
    <script src="scripts/bgvideo.js"></script>
    <script src="scripts/audio.js"></script>
    <script src="scripts/gambling.js"></script>

</body>
</html>